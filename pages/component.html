<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>component</title>
    <meta http-equiv="Content-Script-Type" content="text/javascript" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="/css/lib/bootstrap.min.css" />
    <link rel="stylesheet" href="/css/lib/jquery-ui.css" />
    <link rel="stylesheet" href="/AUIGrid/AUIGrid_modern_style.css" />
    <link rel="stylesheet" href="/css/core/style.css" />
    <link rel="stylesheet" href="/css/core/main.css" />
    <link rel="stylesheet" href="/css/core/main_extra.css" />
    <link rel="stylesheet" href="/css/core/style_sub.css" />

    <script src="/js/lib/jquery.js"></script>
    <script src="/js/lib/vue.js"></script>
    <script src="/js/lib/bootstrap.js"></script>
    <script src="/AUIGrid/AUIGrid.js"></script>
    <script src="/AUIGrid/AUIGridLicense.js"></script>
    <script src="/js/all.min.js"></script>
  </head>
  <style>
    section {
      display: block !important;
    }
  </style>
  <body>
    <div class="container-fluid">
      <div id="app" class="p-4">
        <section>
          <h2>button</h2>
          <article>
            <div class="d-flex cj-btn-group align-items-end">
              <button class="btn btn-cj"><i class="fa-solid fa-plus"></i>추가</button>
              <button class="btn btn-cj">저장</button>
              <button class="btn btn-red">삭제</button>
              <button class="btn btn-cj">닫기</button>
              <button class="btn btn-rec red">EVENT</button>
              <button class="btn btn-rec yellow">예정</button>
              <button class="btn btn-rec blue">맵핑</button>
              <button class="btn btn-rec grey">미맵핑</button>
              <button class="btn btn-sm-grey">삭제</button>
              <span class="ic-graph"><i class="fa-solid fa-chart-simple"></i></span>
              <button class="btn btn-cj"><i class="fa-solid fa-arrow-right-arrow-left"></i>비교</button>
            </div>
          </article>
        </section>

        <section class="mt-5">
          <h2>select</h2>
          <article>
            <div class="d-flex justify-content-start align-items-end">
              <div class="d-block">
                <select id="baseYear" class="form-control cj-selectBox select-box">
                  <option>기준년도</option>
                </select>
              </div>

              <div class="d-block ml-2">
                <select id="genre" class="form-control cj-selectBox select-box">
                  <option>장르</option>
                </select>
              </div>

              <div class="d-block ml-2">
                <select id="channel" class="form-control cj-selectBox select-box">
                  <option>채널그룹명</option>
                </select>
              </div>
            </div>
          </article>
        </section>

        <section class="mt-5">
          <h2>input</h2>
          <article>
            <div class="d-block ml-2">
              <input type="text" class="form-control cj-inputBox" id="search" placeholder="시청률 기준" />
            </div>
          </article>
        </section>

        <section class="mt-5">
          <h2>radio</h2>
          <article>
            <div class="d-flex justify-content-start align-items-center">
              <div class="form-check cj-input-radio pr-3 d-flex align-items-center">
                <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault1" />
                <label class="form-check-label" for="radioDefault1"> 일평균 </label>
              </div>
              <div class="form-check cj-input-radio pr-3 d-flex align-items-center">
                <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault2" />
                <label class="form-check-label" for="radioDefault2"> 프라임 </label>
              </div>
              <div class="form-check cj-input-radio d-flex align-items-center">
                <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault3" />
                <label class="form-check-label" for="radioDefault3"> 논프라임 </label>
              </div>
            </div>
          </article>
        </section>

        <section class="mt-5">
          <h2>foot menu</h2>
          <p>우측 하단</p>
          <article>
            <ul class="foot-menu mt-4">
              <li>메뉴1</li>
              <li>메뉴2</li>
              <li>메뉴3</li>
              <li><i class="fa-solid fa-arrow-up"></i></li>
            </ul>
          </article>
        </section>

        <section class="mt-5">
          <h2>table</h2>
          <article>
            <div class="mt-4 table-wrap">
              <table class="table cj-table">
                <colgroup>
                  <col style="width: 25%" />
                  <col style="width: 25%" />
                  <col style="width: 25%" />
                  <col style="width: 25%" />
                </colgroup>
                <thead>
                  <tr>
                    <th>기준년</th>
                    <th>광고포함</th>
                    <th>광고제외</th>
                    <th>비율(%)</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>2016</td>
                    <td>1.343</td>
                    <td>1.486</td>
                    <td>90.4</td>
                  </tr>
                  <tr>
                    <td>2016</td>
                    <td>1.343</td>
                    <td>1.486</td>
                    <td>90.4</td>
                  </tr>
                  <tr>
                    <td>2016</td>
                    <td>1.343</td>
                    <td>1.486</td>
                    <td>90.4</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </article>
        </section>

        <section class="mt-5">
          <h2>aui grid</h2>
          <article>
            <div class="mt-4">
              <div id="adRateGrid" style="min-height: 400px"></div>
            </div>
          </article>
        </section>

        <section class="mt-5">
          <h2>step nav</h2>
          <article>
            <div role="navigation" class="card-box d-flex nav-wrap justify-content-between align-items-center">
              <ul class="nav nav-tabs step-nav" role="tablist" id="myTab">
                <li role="presentation" class="active">
                  <a href="#mps" aria-controls="mps" role="tab" data-toggle="tab">
                    <span class="number">1</span>
                    <div>경영계획기준 <br />시뮬레이션</div>
                  </a>
                </li>
                <li role="presentation">
                  <a href="#channel" aria-controls="channel" role="tab" data-toggle="tab">
                    <span class="number">2</span>
                    <div>
                      채널기준 월별<br />
                      시청량조회
                    </div>
                  </a>
                </li>
                <li role="presentation">
                  <a href="#ccSimulation" aria-controls="ccSimulation" role="tab" data-toggle="tab">
                    <span class="number">3</span>
                    <div>
                      경쟁사 비교<br />
                      시뮬레이션
                    </div>
                  </a>
                </li>
                <li role="presentation">
                  <a href="#ccView" aria-controls="ccView" role="tab" data-toggle="tab">
                    <span class="number">4</span>
                    <div>
                      경쟁사 비교 월별<br />
                      시청량 조회
                    </div>
                  </a>
                </li>
                <li role="presentation">
                  <a href="#rank" aria-controls="rank" role="tab" data-toggle="tab">
                    <span class="number">5</span>
                    <div>채널순위</div></a>
                </li>
              </ul>
              <div class="d-flex cj-btn-group align-items-end">
                <button type="button" class="btn btn-prev">이전</button>
                <button type="button" class="btn btn-next">다음</button>
              </div>
            </div>
          </article>
        </section>

        <section class="mt-5">

          <h2>tab</h2>
          <article>
            <ul class="nav nav-tabs cj-tabs mt-4 ml-4 mr-4">
              <li class="nav-item">
                <a class="nav-link active" data-toggle="tab" href="#conf">구성현황</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" data-toggle="tab" href="#proList">프로그램 리스트</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" data-toggle="tab" href="#behav">시청자 행동반응</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" data-toggle="tab" href="#recog">시청자 인지반응</a>
              </li>
            </ul>
          </article>
        </section>


        <section class="mt-5">
          <h2>graph</h2>
          <article>
            <div class="card mr-0">
              <div class="card-header">"채널"별 연간 "편수" 구성 증감</div>
              <div class="card-body" style="height: 200px"></div>
            </div>
          </article>
        </section>


        <section class="mt-5">
          <h2>progress</h2>
          <article>
            <div class="progress">
              <div class="progress-bar progress-bar-striped bg-success progress-bar-animated" role="progressbar" style="width: 25%" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
            </div>

            <div class="progress mt-4">
              <div class="progress-bar" role="progressbar" style="width: 15%" aria-valuenow="15" aria-valuemin="0" aria-valuemax="100"></div>
              <div class="progress-bar bg-success" role="progressbar" style="width: 15%" aria-valuenow="30" aria-valuemin="0" aria-valuemax="100"></div>
              <div class="progress-bar bg-info" role="progressbar" style="width: 15%" aria-valuenow="20" aria-valuemin="0" aria-valuemax="100"></div>
            </div>
          </article>
        </section>
      </div>
    </div>



    <script>
      let adRateGrid = "";
      let app = {
        el: "#app",
        watch: {
          gridData: function () {
            AUIGrid.setGridData(adRateGrid, this.gridData);
          },
        },
        mounted() {
          adRateGrid = AUIGrid.destroy("#adRateGrid");
          adRateGrid = AUIGrid.create("#adRateGrid", this.gridLayout, this.gridProps);

          // 페이지 진입 시 기준년도 산출
          this.searchCommand.baseYear = new Date().getFullYear();
          // 기준년도 항목정의(과거:3년, 향후:5년)
          for (let idx = this.searchCommand.baseYear - 2; idx < this.searchCommand.baseYear + 5; idx += 1) {
            this.selectOptionItems.baseYear.push({ value: `${idx}`, text: `${idx}년` });
          }

          this.selectOptionItems.status.push({ value: "I", text: "진행중" });
          this.selectOptionItems.status.push({ value: "C", text: "확정" });

          this.search();
        },
        data: () => ({
          selectOptionItems: {
            baseYear: [{ value: "", text: "기준년도" }],
            division: [{ value: "", text: "구분" }],
            status: [{ value: "", text: "채널그룹명" }],
          },
          searchCommand: {
            scenarioName: null,
            baseYear: "",
            division: "",
            status: "",
          },
          gridData: [],
          gridLayout: [
            {
              headerText: "선택",
              width: "5%",
              renderer: {
                type: "CheckBoxEditRenderer",
                showLabel: false, // 참, 거짓 텍스트 출력여부( 기본값 false )
                editable: true, // 체크박스 편집 활성화 여부(기본값 : false)
              },
              // labelFunction : function(rowIndex, columnIndex, value, headerText, item) {
              //     // let isChildren = item['version'] > 0;
              //     // return `<div class="${isChildren ? 'small':''}">${ isChildren ? item['id'] + '-' + item['version']: item['id'] }</div>`
              //     return `<div class="form-check">
              //                 <input class="form-check-input" type="checkbox">
              //             </div>
              //     `
              // }
              editRenderer: {
                type: "CheckBoxEditRenderer",
              },
            },
            {
              dataField: "baseYear",
              headerText: "기준년도",
              width: "19%",
              editRenderer: {
                type: "DropDownListRenderer",
                list: ["2020년", "2021년", "2022년"],
              },
            },

            {
              dataField: "fromDate",
              headerText: "FROM",
              width: "22%",
              editRenderer: {
                type: "BTCalendarRenderer",
                onlyCalendar: true,
                // bootstrap-datepicker 속성을 여기에 설정하십시오.
                // API : https://bootstrap-datepicker.readthedocs.io/en/latest/options.html
                btOpts: {
                  language: "ko",
                }, // end of btOpts
              },
            },
            {
              dataField: "toDate",
              headerText: "TO",
              width: "22%",
              editRenderer: {
                type: "BTCalendarRenderer",
                onlyCalendar: true,
                // bootstrap-datepicker 속성을 여기에 설정하십시오.
                // API : https://bootstrap-datepicker.readthedocs.io/en/latest/options.html
                btOpts: {
                  language: "ko",
                }, // end of btOpts
              },
            },

            {
              dataField: "lossRate",
              headerText: "손실율",
              children: [
                {
                  dataField: "area",
                  headerText: "수도권",
                  editRenderer: {
                    type: "InputEditRenderer",
                    showEditorBtnOver: true, // 마우스 오버 시 에디터버턴 보이기
                    inputMode: "text",
                  },
                },
                {
                  dataField: "nationwide",
                  headerText: "전국",
                  editRenderer: {
                    type: "InputEditRenderer",
                    showEditorBtnOver: true, // 마우스 오버 시 에디터버턴 보이기
                    inputMode: "text",
                  },
                },
              ], // end of children
            },
          ],
          gridProps: {
            enableFilter: false,
            enableSorting: false,
            headerHeight: 38,
            headerHeights: [38, 38],
            rowHeight: 38,
            editingOnKeyDown: false,
            autoGridHeight: false,
            autoGridWidth: false,
            ignoreColumnMinWidth: true,
            softRemoveRowMode: false,
            // 행 번호 컬럼 활성화 속성입니다.
            showRowNumColumn: false,
            /*추가 옵션*/
            showStateColumn: false,
            editable: true,
            noDataMessage: "엑셀데이터를 붙여넣거나 행추가를 통해 데이터를 입력하세요.",
          },
        }),
        methods: {
          search: function () {
            console.log("search", this.searchCommand);
            this.setTestData();
          },
          createScenario: function () {
            this.$refs["refScenarioSummary"].draw();
          },
          edit: function (id) {
            console.log("준비중 edit", id);
          },
          version: function (id) {
            console.log("준비중 version", id);
          },
          copy: function (id) {
            console.log("준비중 copy", id);
          },
          remove: function (id) {
            console.log("준비중 remove", id);
          },
          done: function (id) {
            console.log("준비중 done", id);
          },
          setTestData: function () {
            this.gridData = [];
            this.gridData.push({
              baseYear: "2023",
              fromDate: "2023.01.1",
              toDate: "2023.12.31",
              area: "8%",
              nationwide: "8%",
            });
            this.gridData.push({
              baseYear: "2023",
              fromDate: "2023.01.1",
              toDate: "2023.12.31",
              area: "8%",
              nationwide: "8%",
            });
            this.gridData.push({
              baseYear: "2023",
              fromDate: "2023.01.1",
              toDate: "2023.12.31",
              area: "8%",
              nationwide: "8%",
            });
            this.gridData.push({
              baseYear: "2023",
              fromDate: "2023.01.1",
              toDate: "2023.12.31",
              area: "8%",
              nationwide: "8%",
            });
          },
        },
      };

      $(function () {
        new Vue(app);
        Vue.nextTick(function () {
          $(window).resize(function () {
            AUIGrid.resize("#adRateGrid");
          });
        });
        // Vue.component();
      });
    </script>
  </body>
</html>
